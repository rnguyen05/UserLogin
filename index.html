<!DOCTYPE html>
<html>
<head>
    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.12.1/firebase-auth.js"></script>
    <!-- <script src="https://www.gstatic.com/firebasejs/4.5.0/firebase.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script> -->
</head>
<body>
    <h1>
        Time 03:31
    </h1>
    <div id="showLogIn">
            <div class="mt-3">
                    <label for="username">User Name: </label>
                    <input type="text" id="usernameLogin" required>
            </div>
            <div>
                    <label for="password">Password: </label>
                    <input type="password" id="passwordLogin" required> 
            </div>
    </div>
    <div id="showSignup" > 
    <div class="mt-3">
            <label for="username">User Name: </label>
            <input type="text" id="username" required>
    </div>
    <div>
            <label for="password">Password: </label>
            <input type="password" id="password" required> 
    </div>
    <div class="mt-3">
            <label for="phoneno">Phone No: </label>
            <input type="text" id="phoneno" >
    </div>
    <div>
            <label for="address1">Address1: </label>
            <input type="text" id="address1" >
    </div>
    <div>
            <label for="address2">Address2: </label>
            <input type="text" id="address2" >
    </div>
    <div>
            <label for="zipcode">zipcode: </label>
            <input type="text" id="zipcode" >
    </div>
    <div>
            <label for="city">city: </label>
            <input type="text" id="city" >
    </div>
    <div>
            <label for="inputState" >State</label>
            <select id="inputState" >
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
    </div>
    <div>
            <label for="displayname">displayname: </label>
            <input type="text" id="displayname" required>
    </div>
    <input type="button" id="submitSignUn" class="btn btn-secondary" value="Submit">
</div>
        <div>
            <input type="button" id="login" class="btn btn-action" value="Log In">
            <input type="button" id="SignUp" class="btn btn-secondary" value="Sign Up">
            <input type="button" id="LogOut"  class="btn btn-action hide"  value="Log Out">
        </div>
        <div id="userStatusDiv">
                Firebase sign-in status: <span id="userStatus">Unknown</span>
        </div>
        <!-- End Login with username and password -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="assets/javascript/app1.js"></script>
    
</body>
</html>


Add CommentCollapse 


Sara Alinazari3:57 PM
added this Plain Text snippet: Untitled 
    var config = {
        apiKey: "AIzaSyC80yUq1_n29oubnc_nisGuDUUzYKhuLO8",
        authDomain: "master-d1d42.firebaseapp.com",
        databaseURL: "https://master-d1d42.firebaseio.com",
        projectId: "master-d1d42",
        storageBucket: "master-d1d42.appspot.com",
        messagingSenderId: "1005294506678"
      };
  firebase.initializeApp(config);
  var database = firebase.database();
function checkEmail(emailStr){
    var filter = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
        if (filter.test(emailStr))
            testresults = true;
        else {
            alert("Please input a valid email address!");
            testresults = false;
        }
        return (testresults);
    }
   $(document).ready(function(){
    $("#showSignup").hide();
    firebase.auth().onAuthStateChanged(function(firebaseUser){
        console.log(JSON.stringify(firebaseUser));
        
        if(firebaseUser){
            console.log(firebaseUser.uid);
            firebase.database().ref('/Users/'+firebaseUser.uid).once("value").then(function(response){
                console.log("onAuthstate"+JSON.stringify(response));
                $("#showSignup").hide();
                $("#login").hide();
                $("#SignUp").hide();
                $("#showLogIn").hide();
                // var temp1=firebase.database().child("Users").child(firebaseUser.uid).getValue("email");
                //$("#userStatus").empty();
                // console.log(temp1);
                $("#userStatus").text("*****Sign in"+response.email.val());
                console.log("salam salam");
            });
        }
        else{
            console.log('not logged in');
            $("#userStatus").text("not sign in");
           // $("#showSignup").show();
                $("#login").show();
                $("#showLogIn").show();
                $("#SignUp").show();
            //    $("#userStatus").text("Not Logged in");
            // firebase.auth().ref('/Users/'+user.userid).set({
            //     username : username,
            //     email : email,
            //     password : password,
            //     phoneno : phoneno,
            //     address1 : address1,
            //     address2 : address2,
            //     zipcode : zipcode,
            //     city : city,
            //     displayname : displayname,
            // });
            // location.reload();
        }
    });
   });
  $("#login").on("click",function(){
    //$(this).disable = true;
    var email = $("#usernameLogin").val().trim(); 
    var pass1 = $("#passwordLogin").val().trim();
   // console.log(pass1);
    var pass = pass1.toString(); 
    
      firebase.auth().signInWithEmailAndPassword(email,pass).then(function(user){
          console.log(JSON.stringify(user));
      }).catch(function(error){
          if(error.code == "auth/invalid-email"){
            alert("wrong pass or username");
          }
          if(error.code == "auth/wrong-password"){
                alert("wrong pass or username");
          }
          
          console.log(error.code);
          console.log(error.message);
      });
  });
  $("#SignUp").on("click",function(){
  //  $(this).disable = true;
    $("#showSignup").show();
    $("#showLogIn").hide();
    $("#SignUp").hide();
    $("#LogOut").hide();
    $("#login").hide();
  });
  $("#submitSignUn").on("click",function(){
    //$(this).disable = true;
    var email =$("#username").val().trim();
    console.log(email+":"+ checkEmail(email)); 
    var password = $("#password").val().trim();
    var phoneno = $("#phoneno").val().trim();
    var address1 = $("#address1").val().trim();
    var address2 = $("#address2").val().trim();
    var zipcode = $("#zipcode").val().trim();
    var city= $("#city").val().trim();
    var displayname= $("#displayname").val().trim();
    var state = $("#inputState").val().trim();
    signUp(email,password,phoneno,address1,address2,zipcode,city,displayname,state);
    
    
    
  });
  $("#LogOut").on("click",function(){
    firebase.auth().signOut();
    $(this).disable = true;
    $("#showSignup").hide();
                $("#login").hide();
                $("#SignUp").hide();
  });
function signUp(email,password,phoneno,address1,address2,zipcode,city,displayname,state){
  firebase.auth().createUserWithEmailAndPassword(email,password).then(function(user){
    useruid = user.uid;
    firebase.database().ref('/Users/'+useruid).push({
        username : username,
        email : email,
        password : password,
        phoneno : phoneno,
        address1 : address1,
        address2 : address2,
        zipcode : zipcode,
        city : city,
        state : state,
        displayname : displayname
    }).catch(function(error){
        if(error.code.toString() == "auth/weak-password"){
            alert("Your password is so weak. Please, select another password.");
        }
        if(error.code == "auth/email-already-in-use"){
            alert("this email is already in use by another user. Please, select another email.");
        }
        
        console.log("SALAM:" ,error.message);
        console.log(error.code);
    }).then(function(){
        location.reload();//window.location.href = "index.html";
    });
});
//location.reload();
}
// firebase.auth().signInWithEmailAndPassword(email, password).then(function(user){
//     console.log(firebase.database().ref('/Users/'+user.userid))
// }).catch(function(error){
//     console.log(error.code);
//     console.log(error.message);
// });
// $("#login").on("click",function(){
//     var username = $("username").val();
//     var password= $("password").val();
//     firebase.auth().signInWithEmailAndPassword(email,password).then(function(user){
//         console.log(user);
//     }).catch(function(){
//         console.log(error.code);
//         console.log(error.message);
//     });
// });
